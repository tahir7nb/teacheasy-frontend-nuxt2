export default function(t){const o=SEMICOLON.Core;if(o.initFunction({class:"has-plugin-linkscroll",event:"pluginLinkScrollReady"}),(t=o.getSelector(t)).length<1)return!0;if(o.getVars.hash&&0<jQuery('[data-scrollto="'+o.getVars.hash+'"]').length){jQuery(window).on("beforeunload",function(){jQuery(window).scrollTop(0)}),jQuery(window).scrollTop(0);let a=jQuery(o.getVars.hash);0<a.length&&setTimeout(function(){let t=a.offset().top,e=JSON.parse(a.attr("data-scrollto-settings"));jQuery("html,body").stop(!0,!0).animate({scrollTop:t-Number(e.offset)},e.speed,e.easing,function(){e.highlight&&(o.loadJS({file:"js/plugins.linkscroll.js",id:"canvas-linkscroll-js"}),o.isFuncTrue(()=>jQuery().color).then(t=>!!t&&void(0<a.find(".highlight-me").length?(a.find(".highlight-me").animate({backgroundColor:e.highlight},300),setTimeout(function(){a.find(".highlight-me").animate({backgroundColor:"transparent"},300)},500)):(a.animate({backgroundColor:e.highlight},300),setTimeout(function(){a.animate({backgroundColor:"transparent"},300)},500)))))})},1200)}t.each(function(){let t=jQuery(this),e=t.attr("data-scrollto"),a=jQuery(e);if(0<a.length){let t=CanvasLinkScrollSettings(e,jQuery('[data-scrollto="'+e+'"]'));setTimeout(function(){a.attr("data-scrollto-settings",JSON.stringify(t))},1e3)}}),t.off("click").on("click",function(){let t=jQuery(this),e=t.attr("data-scrollto"),a=jQuery(e);if(t.parents(".primary-menu").hasClass("on-click"))return!0;if(0<a.length){let e=JSON.parse(a.attr("data-scrollto-settings"));jQuery("html,body").stop(!0).animate({scrollTop:a.offset().top-Number(e.offset)},Number(e.speed),e.easing,function(){e.highlight&&(o.loadJS({file:"js/plugins.linkscroll.js",id:"canvas-linkscroll-js"}),o.isFuncTrue(()=>jQuery().color).then(t=>!!t&&void(0<a.find(".highlight-me").length?(a.find(".highlight-me").animate({backgroundColor:e.highlight},300),setTimeout(function(){a.find(".highlight-me").animate({backgroundColor:"transparent"},300)},500)):(a.animate({backgroundColor:e.highlight},300),setTimeout(function(){a.animate({backgroundColor:"transparent"},300)},500)))))})}return!1})}const CanvasLinkScrollSettings=(t,e)=>{if(void 0===t&&e.length<1)return!0;let a={},o=(jQuery(t).offset().top,e.attr("data-speed")||1250),i=e.attr("data-offset")||SEMICOLON.Core.topScrollOffset(),s=e.attr("data-easing")||"easeOutQuad",l=e.attr("data-highlight"),n=e.attr("data-offset-xxl"),r=e.attr("data-offset-xl"),h=e.attr("data-offset-lg"),u=e.attr("data-offset-md"),d=e.attr("data-offset-sm"),c=e.attr("data-offset-xs");return c=c||i,d=d||c,u=u||d,h=h||u,r=r||h,n=n||r,jQuery("body").hasClass("device-xxl")?i=n:jQuery("body").hasClass("device-xl")?i=r:jQuery("body").hasClass("device-lg")?i=h:jQuery("body").hasClass("device-md")?i=u:jQuery("body").hasClass("device-sm")?i=d:jQuery("body").hasClass("device-xs")&&(i=c),a.offset=Number(i),a.speed=o,a.easing=s,a.highlight=l,a};